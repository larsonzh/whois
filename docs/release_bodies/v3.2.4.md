# whois v3.2.4

Highlights / 亮点
- Modularization step 1: extract conditional output into `wc_title`, `wc_grep`, `wc_fold`, `wc_output`, `wc_seclog`; add `src/core/pipeline.c` as future orchestrator while preserving behavior.
- GREP self-test hook: build with `-DWHOIS_GREP_TEST` and run with `WHOIS_GREP_TEST=1` to validate block / line / line+cont; emits `[GREPTEST] ... PASS` on success with diagnostics on failure.
- Continuation heuristic improved in block mode: keep only the first header-like indented continuation (e.g. address); subsequent header-like continuations must match the regex — avoids leaking unrelated fields.
- Remote build diagnostics enhanced: print LDFLAGS/LDFLAGS_EXTRA, UPX availability & compression, and QEMU vs native smoke runner.
- Docs updated (CN/EN): add grep self-test section; clarify `wc` prefix (whois client modules); remove leftover non-English comments.

Contracts unchanged / 对外契约不变
- Artifact names (`whois-*`), CLI options, header/tail contract and folded line format remain unchanged.

Verification / 验证
- Remote multi-arch static builds succeeded; GREPTEST: block / line / line+cont all PASS.

Links
- Release notes / 发布说明: `RELEASE_NOTES.md#324`
- Usage docs: CN `docs/USAGE_CN.md` | EN `docs/USAGE_EN.md`
- GitHub Release (tag will be created on publish)
- Gitee Releases (mirrored after publish)
